<!--pages/asset/asset.wxml-->
<view class="container">
  <!-- éª¨æ¶å± -->
  <skeleton 
    show="{{loading && !refreshing}}"
    type="market"
    count="6"
    show-avatar="{{false}}"
    show-subtitle="{{true}}"
  />
  
  <!-- é”™è¯¯å ä½ -->
  <error-placeholder
    show="{{error && !loading}}"
    type="{{errorType}}"
    title="{{errorTitle}}"
    description="{{errorDescription}}"
    show-retry="{{true}}"
    show-refresh="{{true}}"
    bind:retry="handleRetry"
    bind:refresh="handleRefresh"
  />
  
  <!-- ä¸»è¦å†…å®¹ -->
  <view class="asset-content" wx:if="{{!loading && !error}}">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <view class="search-input-wrapper">
      <input 
        class="search-input" 
        placeholder="æœç´¢è‚¡ç¥¨ä»£ç æˆ–åç§°" 
        value="{{searchValue}}"
        bindinput="onSearchInput"
        bindconfirm="onSearchConfirm"
      />
      <view class="search-icon">ğŸ”</view>
    </view>
  </view>

  <!-- è‚¡ç¥¨åˆ—è¡¨ -->
  <view class="stock-list">
    <view 
      class="stock-item" 
      wx:for="{{stocks}}" 
      wx:key="symbol"
      data-symbol="{{item.symbol}}"
      bindtap="onStockTap"
    >
      <view class="stock-info">
        <view class="stock-symbol">{{item.symbol}}</view>
        <view class="stock-name">{{item.name}}</view>
      </view>
      <view class="stock-price">
        <view class="price">{{item.price}}</view>
        <view class="change {{item.isUp ? 'up' : 'down'}}">
          {{item.change}} ({{item.changePercent}})
        </view>
      </view>
    </view>
  </view>

    <!-- åˆè§„ç»„ä»¶ -->
    <view class="compliance-section">
      <disclaimer 
        type="investment"
        position="bottom"
        theme="light"
        show-icon="{{true}}"
        closable="{{true}}"
        custom-class="disclaimer-margin"
      />
      <data-source-hint 
        type="realtime"
        position="bottom"
        theme="light"
        show-icon="{{true}}"
        closable="{{false}}"
        custom-class="data-hint-margin"
      />
    </view>
  </view>
</view>